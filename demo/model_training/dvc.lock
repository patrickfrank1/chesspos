schema: '2.0'
stages:
  train:
    cmd: python train_model.py
    deps:
    - path: ../../data/tuples
      md5: 5745f3ad689c1281d527ff9d5b1a47cf.dir
      size: 2817950478
      nfiles: 23
    - path: train_model.py
      md5: 196845b30ab044b2d54a118f4e890e79
      size: 1736
    params:
      params.yaml:
        train.data.test_batch_size: 512
        train.data.train_batch_size: 512
        train.model.embedding_size: 32
        train.model.hidden_layers:
        - 1024
        - 256
        - 64
        train.model.input_size: 773
        train.model.loss: binary_crossentropy
        train.model.test_steps_per_epoch: 20
        train.model.train_steps_per_epoch: 100
    outs:
    - path: ../../data/model
      md5: 148fa5bf4c10bb0710367a61832907bc.dir
      size: 62217427
      nfiles: 79
  evaluate:
    cmd: python evaluate_model.py
    deps:
    - path: ../../data/model
      md5: 148fa5bf4c10bb0710367a61832907bc.dir
      size: 62217427
      nfiles: 79
    - path: evaluate_model.py
      md5: 2a2ea4eba827451d4dc66d70fb6b0caf
      size: 2592
    params:
      params.yaml:
        evaluate.data.model_dir: /home/pafrank/Documents/coding/chess-position-embedding/data/model
        evaluate.data.test_batch_size: 64
        evaluate.data.test_dir: /home/pafrank/Documents/coding/chess-position-embedding/data/tuples/validation_small
        evaluate.eval.number_examples: 10
    outs:
    - path: examples.out
      md5: b8736027d05cbc2926e4174661b63a02
      size: 9613
    - path: scores.json
      md5: bfaeac715d8979ecc72a9a2a365e1cfa
      size: 74
    - path: test_loss.json
      md5: b78ab5939d8f734c1fd8ae505c943b4d
      size: 1672
